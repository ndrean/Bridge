# nats-server.conf

# 1. Basic Ports
port: 4222
http_port: 8222

# 2. WebSocket Configuration (This fixes your original issue)
websocket {
    port: 9222
    no_tls: true
}

# 3. Authorization using Native Variable Expansion
# NATS will automatically replace $NATS_TOKEN with the env var.
authorization {
    token: $NATS_TOKEN
}

# 4. JetStream Configuration
jetstream {
    store_dir: "/data"
}